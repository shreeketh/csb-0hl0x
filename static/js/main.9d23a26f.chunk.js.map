{"version":3,"sources":["utils/api.js","components/search/index.js","components/wishList/index.js","components/chart/index.js","components/stockInfo/index.js","App.js","index.js"],"names":["API_KEY","BASE_API_URL","Search","onSelect","useState","searchTerm","setSearchTerm","useQuery","axios","get","then","data","bestMatches","searchSymbol","enabled","cacheTime","Infinity","refetchInterval","isLoading","isError","handleChange","useDebouncedCallback","e","target","value","handleItemClick","useCallback","symbol","handleKeyDown","key","shouldShowSuggestionDropdown","length","className","type","onChange","onKeyDown","map","match","onClick","WishList","stocksList","removeFromWishList","switchToWishItem","selectedValue","stock","ChartGraph","graphData","setGraphData","getTimeSeriesData","useEffect","timeSeries","processedData","Object","keys","forEach","val","timeData","push","x","Date","y","setTimeout","id","options","chart","height","width","title","text","align","xaxis","yaxis","tooltip","series","StockInfo","stockName","description","price","peRatio","marketCap","src","alt","App","selectedSymbol","setSelectedSymbol","wishList","useRef","Set","stocksToSugget","updateStocksToSugget","current","add","delete","Symbol","Name","Description","BookValue","PERatio","MarketCapitalization","queryClient","QueryClient","defaultConfig","queries","retry","refetchOnWindowFocus","refetchOnMount","rootElement","document","getElementById","ReactDOM","render","QueryClientProvider","client"],"mappings":"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","file":"static/js/main.9d23a26f.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"DB5HGR8FEGKFPN20\",\n  BASE_API_URL = \"https://www.alphavantage.co/query\";\n\nconst searchSymbol = (searchTerm) => () => {\n  return axios\n    .get(\n      // \"https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=SAIC&apikey=demo\"\n      `${BASE_API_URL}?function=SYMBOL_SEARCH&keywords=${searchTerm}&apikey=${API_KEY}`\n    )\n    .then(({ data }) => data?.bestMatches || []);\n};\n\nconst getOverView = (symbol) => () => {\n  return axios\n    .get(\n      // \"https://www.alphavantage.co/query?function=OVERVIEW&symbol=IBM&apikey=demo\"\n      `${BASE_API_URL}?function=OVERVIEW&symbol=${symbol}&apikey=${API_KEY}`\n    )\n    .then(({ data }) => data);\n};\n\nconst getTimeSeriesData = (symbol) => () => {\n  return axios\n    .get(\n      `${BASE_API_URL}?function=SYMBOL_SEARCH&keywords=${symbol}&apikey=${API_KEY}`\n      // \"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=IBM&interval=5min&apikey=demo\"\n    )\n    .then(({ data }) => data);\n};\n\nexport { searchSymbol, getOverView, getTimeSeriesData };\n","import React, { useState, useCallback } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useDebouncedCallback } from \"use-debounce\";\n\nimport { searchSymbol } from \"../../utils/api\";\n\nimport \"./styles.css\";\n\nconst Search = ({ onSelect }) => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  // const [showSuggetions, setShowSuggetons] = useState(true);\n\n  const { data, isLoading, isError } = useQuery(\n    searchTerm,\n    searchSymbol(searchTerm),\n    {\n      enabled: !!searchTerm,\n      cacheTime: Infinity, //5 * 60 * 60,\n      refetchInterval: Infinity //10 * 60 * 60\n    }\n  );\n\n  // debounce\n  const handleChange = useDebouncedCallback((e) => {\n    setSearchTerm(e.target.value);\n  }, 500);\n\n  const handleItemClick = useCallback(\n    (symbol) => {\n      setSearchTerm(\"\");\n      onSelect && onSelect(symbol);\n    },\n    [onSelect]\n  );\n\n  const handleKeyDown = useCallback((e) => {\n    if (e.key === \"Enter\") {\n      setSearchTerm(\"\");\n      onSelect && onSelect(e.target.value);\n    }\n  }, []);\n\n  const shouldShowSuggestionDropdown = searchTerm.length > 0;\n\n  return (\n    <div className=\"container\">\n      <input\n        type=\"text\"\n        className=\"input-box\"\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n      />\n\n      {shouldShowSuggestionDropdown && (\n        <div className=\"suggestion-wrapper\">\n          {data?.length ? (\n            data.map((match) => (\n              <div\n                key={match[\"1. symbol\"]}\n                className=\"suggestion-item\"\n                onClick={() => handleItemClick(match[\"1. symbol\"])}\n              >\n                <div className=\"label\">{match[\"1. symbol\"]} </div>\n                <div className=\"sub-label\">{match[\"2. name\"]}</div>\n              </div>\n            ))\n          ) : isLoading ? (\n            <div className=\"suggestion-item\">Loading...</div>\n          ) : (\n            <div className=\"suggestion-item\">No Results Found</div>\n          )}\n        </div>\n      )}\n      {isError && <div className=\"no-data-msg\">Something went wrong</div>}\n    </div>\n  );\n};\n\nexport { Search };\n","import React from \"react\";\n\nimport \"./styles.css\";\n\nconst WishList = ({\n  stocksList,\n  removeFromWishList,\n  switchToWishItem,\n  selectedValue\n}) => {\n  return (\n    <div className=\"wish--wrapper\">\n      {stocksList?.length > 0 &&\n        stocksList.map((stock) => {\n          return (\n            <div\n              className={`wish__item ${\n                selectedValue === stock ? \"wish__selected\" : \"\"\n              }`}\n              key={stock}\n            >\n              <span onClick={() => switchToWishItem(stock)}>{stock}</span>\n              <span\n                className=\"wish--remove\"\n                aria-hidden=\"true\"\n                onClick={() => removeFromWishList(stock)}\n              >\n                &times;\n              </span>\n            </div>\n          );\n        })}\n    </div>\n  );\n};\n\nexport { WishList };\n","import React, { useEffect, useState } from \"react\";\nimport ReactApexChart from \"react-apexcharts\";\nimport { useQuery } from \"react-query\";\n\nimport { getTimeSeriesData } from \"../../utils/api\";\n\nimport \"./styles.css\";\n\nconst ChartGraph = ({ symbol }) => {\n  const [graphData, setGraphData] = useState([]);\n  const { data, isLoading, isError } = useQuery(\n    \"symbol\",\n    getTimeSeriesData(symbol),\n    {\n      // enabled: !!symbol,\n      cacheTime: Infinity, //5 * 60 * 60,\n      refetchInterval: Infinity //10 * 60 * 60\n    }\n  );\n\n  const options = {\n    chart: {\n      type: \"candlestick\",\n      height: 350,\n      width: 350\n    },\n    title: {\n      text: \"Stock Chart\",\n      align: \"left\"\n    },\n    xaxis: {\n      type: \"datetime\"\n    },\n    yaxis: {\n      tooltip: {\n        enabled: true\n      }\n    }\n  };\n  useEffect(() => {\n    if (data) {\n      const timeSeries = data[\"Time Series (5min)\"] || {};\n      const processedData = [];\n      Object.keys(timeSeries).forEach((val) => {\n        const timeData = timeSeries[val];\n        processedData.push({\n          x: new Date(val),\n          y: [\n            +timeData[\"1. open\"],\n            +timeData[\"2. high\"],\n            +timeData[\"3. low\"],\n            +timeData[\"4. close\"]\n          ]\n        });\n      });\n      setTimeout(() => {\n        setGraphData(processedData);\n      }, 500);\n    }\n  }, [data]);\n  return (\n    <div id=\"chart\">\n      {graphData.length > 0 && (\n        <ReactApexChart\n          options={options}\n          series={[{ data: graphData }]}\n          type=\"candlestick\"\n          height={350}\n        />\n      )}\n    </div>\n  );\n};\n\nexport { ChartGraph };\n","import React from \"react\";\nimport \"./styles.css\";\n\nimport { ChartGraph } from \"./../chart\";\n\nconst StockInfo = ({\n  symbol,\n  stockName,\n  description,\n  price,\n  peRatio,\n  marketCap\n}) => {\n  return (\n    <div className=\"info-wrapper\">\n      <div className=\"card\">\n        <img src=\"/icons/icon-1.svg\" alt=\"stock\" />\n        <div className=\"info\">\n          <div className=\"label\">Symbol</div>\n          <div className=\"data\">{symbol}</div>\n        </div>\n        <div className=\"info\">\n          <div className=\"label\">Name</div>\n          <div className=\"data\">{stockName}</div>\n        </div>\n      </div>\n\n      <div className=\"card\">\n        <img src=\"/icons/dollar-sign-solid.svg\" alt=\"stock\" />\n        <div className=\"info\">\n          <div className=\"label\">Price</div>\n          <div className=\"data\">${price}</div>\n        </div>\n        <div className=\"info\">\n          <div className=\"label\">PE Ratio</div>\n          <div className=\"data\">${peRatio}</div>\n        </div>\n\n        <div className=\"info\">\n          <div className=\"label\">Market Cap</div>\n          <div className=\"data\">${marketCap}</div>\n        </div>\n      </div>\n      <ChartGraph />\n\n      <div className=\"card descreption\">\n        <img src=\"/icons/address-card-solid.svg\" alt=\"stock\" />\n        <div className=\"info\">\n          <div className=\"label\">About {symbol}</div>\n          <div className=\"data\">${description}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { StockInfo };\n","import React, { useState, useCallback, useRef } from \"react\";\nimport { useQuery } from \"react-query\";\n\nimport { Search } from \"./components/search\";\nimport { WishList } from \"./components/wishList\";\nimport { StockInfo } from \"./components/stockInfo\";\n\nimport { ChartGraph } from \"./components/chart\";\n\nimport { getOverView } from \"./utils/api\";\n\nimport \"./styles.css\";\n\nexport default function App() {\n  const [selectedSymbol, setSelectedSymbol] = useState(\"\");\n\n  const wishList = useRef(new Set());\n\n  //TODO: check here\n  const [stocksToSugget, updateStocksToSugget] = useState([]);\n\n  const { data, isLoading } = useQuery(\n    selectedSymbol,\n    getOverView(selectedSymbol),\n    {\n      enabled: !!selectedSymbol,\n      cacheTime: Infinity, //5 * 60 * 60 * 1000,\n      refetchInterval: Infinity //10 * 60 * 60 * 1000\n    }\n  );\n\n  const onSelect = useCallback((symbol) => {\n    setSelectedSymbol(symbol);\n    wishList.current.add(symbol);\n    updateStocksToSugget([...wishList.current]);\n  }, []);\n\n  const removeFromWishList = (symbol) => {\n    if (symbol !== selectedSymbol) {\n      wishList.current.delete(symbol);\n      updateStocksToSugget([...wishList.current]);\n    }\n  };\n\n  return (\n    <div>\n      <Search onSelect={onSelect} />\n\n      <WishList\n        stocksList={stocksToSugget}\n        switchToWishItem={onSelect}\n        removeFromWishList={removeFromWishList}\n        selectedValue={selectedSymbol}\n      />\n\n      {isLoading ? (\n        <div>Loading....</div>\n      ) : (\n        data && (\n          <StockInfo\n            symbol={data.Symbol}\n            stockName={data.Name}\n            description={data.Description}\n            price={data.BookValue}\n            peRatio={data.PERatio}\n            marketCap={data.MarketCapitalization}\n          />\n        )\n      )}\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nimport App from \"./App\";\n\nconst queryClient = new QueryClient({\n  defaultConfig: {\n    queries: {\n      retry: 0,\n      refetchOnWindowFocus: false,\n      refetchOnMount: false\n    }\n  }\n});\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <QueryClientProvider client={queryClient}>\n      <App />\n    </QueryClientProvider>\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}